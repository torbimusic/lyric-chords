"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var AddSusAnalyzer = /** @class */ (function () {
    function AddSusAnalyzer() {
    }
    AddSusAnalyzer.apply = function (chord) {
        var adds = this.analyzeAdds(chord);
        var sus = this.analyzeSus(chord);
        return {
            adds: adds,
            sus: sus
        };
    };
    AddSusAnalyzer.analyzeAdds = function (chord) {
        var _this = this;
        var result = [];
        var adds = chord.match(new RegExp(this.addsRe, 'g'));
        if (adds) {
            result = adds.map(function (add) { return add.match(_this.separateAddFromNumber)[2]; });
        }
        return result;
    };
    AddSusAnalyzer.analyzeSus = function (chord) {
        var _this = this;
        var result = [];
        var suses = chord.match(new RegExp(this.susRe, 'g'));
        if (suses) {
            result = suses.map(function (sus) { return sus.match(_this.separateSusFromNumber)[2] || 4; }); // si es sus, lo hago sus4
        }
        return result;
    };
    AddSusAnalyzer.addsRe = "add2|add4|add6|add9|add11|add13";
    AddSusAnalyzer.susRe = "sus2|sus4|sus";
    AddSusAnalyzer.separateSusFromNumber = "(sus)(\\d)?";
    AddSusAnalyzer.separateAddFromNumber = "(add)(\\d{1,2})";
    return AddSusAnalyzer;
}());
exports.AddSusAnalyzer = AddSusAnalyzer;
//# sourceMappingURL=addsus-analyzer.js.map